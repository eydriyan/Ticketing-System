<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IT Ticketing System</title>
	<link href='https://fonts.googleapis.com/css?family=Jomhuria' rel='stylesheet'>
    <link href='https://fonts.googleapis.com/css?family=Inter' rel='stylesheet'>
</head>
<body>
<!-- Navigation Bar -->
<nav class="navbar">
    <img src="../../assets/images/systemicon.png" alt="Ticketing System Icon" class="systemIcon">
    <div class="title">IT Ticketing System</div>
    <div class="buttons">
        <a (click)="logout()"><img src="../../assets/images/exitIcon.png" class="exitIcon" alt="Exit Icon"></a>
    </div>
</nav>
<!--Left Container for Profile, Dashboard and History-->   
<div class="main-container">
<div class="leftcontainer">
	<div class="profile-container">
	  <img src="/assets/images/tempprofile.png" alt="Profile" class="tempprofile">
	  <div class="userdata">
		<h4>{{ user?.firstName }} {{ user?.lastName }}</h4>
		<h4>{{ user?.role }}</h4>
	  </div>
	</div>
	<div class="line-division"></div>
	<div class="buttons-nav">
	  <a onclick="window.location.href='admindashboard'">
		  <img src="../../assets/images/dashboardButton.png" class="dashboard" alt="Dashboard">
	  </a>
	  <a onclick="window.location.href='adminhistory'">
		  <img src="../../assets/images/historyButton.png" class="history" alt="History">
	  </a>
	  <a onclick="window.location.href='adminanalytics'">
		  <img src="../../assets/images/analyticsButton.png" class="analytics" alt="Analytics">
	  </a>
	  <a onclick="window.location.href='managetechnician'">
			<img src="../../assets/images/Technician.png" class="managetechnician" alt="managetechnician">
	  </a>
	  <a onclick="window.location.href='manageuser'">
		<img src="../../assets/images/User.png" class="manageuser" alt="manageuser">
  </a> 
	</div>
  </div>
 
<!-- (logo)Ticket Requests(Title) - (Button)Filter - (Searchbar)-->  
<div class="rightcontainer">
			<table >
		  <tr>
			<td class="title-container">
				<img src="../../assets/images/Technician.png" class="Technician" alt="Technician">
			</td>
			<td class="filter-container">
				<button class="invisible-button modal-buttons" (click)="displayModal('Filter-form-container')" data-modal="Filter-form-container">
				  <img src="../../assets/images/filterButton.png" class="filterButton" alt="Filter">
				</button>
			</td>
			<td class="search-container">
				<div class="group">
				  <svg viewBox="0 0 24 24" aria-hidden="true" class="icon">
					<g>
					<path
					  d="M21.53 20.47l-3.66-3.66C19.195 15.24 20 13.214 20 11c0-4.97-4.03-9-9-9s-9 4.03-9 9 4.03 9 9 9c2.215 0 4.24-.804 5.808-2.13l3.66 3.66c.147.146.34.22.53.22s.385-.073.53-.22c.295-.293.295-.767.002-1.06zM3.5 11c0-4.135 3.365-7.5 7.5-7.5s7.5 3.365 7.5 7.5-3.365 7.5-7.5 7.5-7.5-3.365-7.5-7.5z"
					></path>
					</g>
				  </svg>
				  <input class="input" type="search" placeholder="Search technician email" [(ngModel)]="searchEmail" (input)="applySearch()" />
				</div>
			  </td>
		  </tr>
		</table>
	
		
<!-- table for analytics-->
<h2>Technicians List:</h2>
<br> <br>
<div class="manage-technician-container">
	<div class="technician-table">
			<table class="technician">
                    <!-- <tr *ngFor="let technician of technicians; let i = index" class="technicianRow">
                        <th class="rankCol">{{ i + 1 }}</th>
                        <th class="pictureCol infoCol"><img class="pictureTechnician"  src="/assets/images/tempprofile.png">{{ technician.firstName }} {{ technician.lastName }}</th>
                        <th class="infoCol">{{ technician.email }}</th>
                        <th class="infoCol"></th>
                        <th></th>
                    </tr> -->
					<tr  class="technicianRow" (click)="displayModal('update-form-container')">
						<td class="rankCol">1</td>
						<td class="pictureCol infoCol"><img class="pictureTechnician"  src="/assets/images/tempprofile.png">Mackleine Espino</td>
						<td class="infoCol">mfespino@mymail.mapua.edu.ph</td>
						<td class="infoCol">2021104922</td>
					  </tr>
					  <tr class="technicianRow" (click)="displayModal('update-form-container')">
						<td class="rankCol">2</td>
						<td class="pictureCol infoCol"><img class="pictureTechnician"  src="/assets/images/tempprofile.png">Mackleine Espino</td>
						<td class="infoCol">mfespino@mymail.mapua.edu.ph</td>
						<td class="infoCol">2021104922</td>
					  </tr>
			</table>
    </div>
</div>
</div>

</div>
<!-- UPDATE FORM *ngIf="selectedTicket" (ngSubmit)="updateTicket(selectedTicket)"-->
<div *ngIf="showUpdateModal" id="update-form-container"  class="modal" (click)="closeOnOutsideClick($event, 'update-form-container')">
	<div #updateModalContent class="modal-content" (click)="$event.stopPropagation()">
		<span class="close" (click)="closeModal('update-form-container')">&times;</span>
		<h1 class="form-title">Update Technician</h1>
		<h4 class="form-title2">Make changes to Technician Information.</h4>
		<form class="form" >
				<div class="form-row">
					<label class="form-label" for="id">ID:</label>
					<input class="form-input" type="number" id="id" required>
				</div>
				<div class="form-row">
					<label class="form-label" for="staffNumber">Staff Number:</label>
					<input class="form-input" type="text" id="staffNumber" required>
					<label class="form-label" for="skillSet">Skill Set:</label>
					<input class="form-input" type="text" id="skillSet" required>
				</div>
				<div class="form-row">
					<div class="form-col">
					<label class="form-label" for="firstName">First Name:</label>
					<input class="form-input" type="text" id="firstName" required>
					</div>
					<div class="form-col">
					<label class="form-label" for="lastName">Last Name:</label>
					<input class="form-input" type="text" id="lastName" required>
					</div>
				</div>
				<div class="form-row">
					  <div class="form-col">
						<label class="form-label" for="email">Email:</label>
						<input class="form-input" type="text" id="email" required>
					  </div>
					  <div class="form-col">
						<label class="form-label" for="PhoneNumber">Phone Number:</label> 
						<input class="form-input" type="text" id="PhoneNumber" required>
					  </div>
					</div>
			<button class="submit-button" type="submit">Update Ticket</button>
			<button class="cancel-button" type="button" (click)="closeModal('update-form-container')">Cancel</button>
	   </form>
	</div>
</div>
<!-- filter form -->
<div *ngIf="showFilterModal" id="Filter-form-container" class="modal"  (click)="closeOnOutsideClick($event, 'Filter-form-container')">
	<div class="modal-content" (click)="$event.stopPropagation()">
		<span #filterModalContent class="close" (click)="closeModal('Filter-form-container')">&times;</span>
		<h1 class="form-title">Filter Technician Detail</h1>
		<h4 class="form-title2">Find the exact technician you need quickly.</h4>
		<form class="form">
			<div class="form-row">
				<label class="form-label" for="id">ID:</label>
				<input class="form-input" type="number" id="id" required>
			</div>
			<div class="form-row">
				<label class="form-label" for="staffNumber">Staff Number:</label>
				<input class="form-input" type="text" id="staffNumber" required>
				<label class="form-label" for="skillSet">skillSet:</label>
				<input class="form-input" type="text" id="skillSet" required>
			</div>
			<div class="form-row">
				<div class="form-col">
					<label class="form-label" for="firstName">First Name:</label>
					<input class="form-input" type="text" id="firstName" required>
					</div>
					<div class="form-col">
					<label class="form-label" for="lastName">Last Name:</label>
					<input class="form-input" type="text" id="lastName" required>
					</div>
			</div>
			<div class="form-row">
				  <div class="form-col">
					<label class="form-label" for="email">Email:</label>
					<input class="form-input" type="text" id="email" required>
				  </div>
				  <div class="form-col">
					<label class="form-label" for="PhoneNumber">Phone Number:</label> 
					<input class="form-input" type="text" id="PhoneNumber" required>
				  </div>
			</div>
			<div class="form-row">
		  <button class="submit-button" type="button" (click)="applyFilter()">Filter Technician Details</button>
		  <button class="cancel-button" type="button" (click)="clearFilter()">Clear</button>
		</div>
		</form>
	</div>
  </div>
<!--footer-->
<div class="footer">
	<p>Copyright Â© 2024</p>
</div>

</body>
</html>
